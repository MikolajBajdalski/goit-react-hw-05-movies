"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{653:function(e,r,t){t.r(r),t.d(r,{default:function(){return x}});var n=t(861),o=t(439),c=t(757),a=t.n(c),s=t(791),u=t(87),i="Movies_searchBar__RYxd-",f="Movies_searchInput__+E-Mw",l="Movies_searchButton__VlmGO",v="Movies_movieList__3O+kj",p="Movies_movieItem__WBe6u",h="Movies_movieLink__e75lb",m=t(110),d=t(184),k="35a34ce8f38b4fede9b5661b8e9c4e2f",_="https://api.themoviedb.org/3",x=function(){var e=(0,s.useState)([]),r=(0,o.Z)(e,2),t=r[0],c=r[1],x=(0,u.lr)(),w=(0,o.Z)(x,2),b=w[0],y=w[1],j=b.get("query")||"",N=(0,m.H)(),E=N.updateReferrer,M=N.updateSearchQuery;(0,s.useEffect)((function(){E("movies")}),[E]);var q=function(){var e=(0,n.Z)(a().mark((function e(r){var t,n,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=r.target.elements.query.value,y({query:t}),M(t),!t){e.next=21;break}return e.prev=5,n="".concat(_,"/search/movie?api_key=").concat(k,"&query=").concat(encodeURIComponent(t)),e.next=9,fetch(n);case 9:if((o=e.sent).ok){e.next=12;break}throw new Error("Network response was not ok");case 12:return e.next=14,o.json();case 14:s=e.sent,c(s.results),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.error("Error:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(r){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=17;break}return e.prev=1,r="".concat(_,"/search/movie?api_key=").concat(k,"&query=").concat(encodeURIComponent(j)),e.next=5,fetch(r);case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok");case 8:return e.next=10,t.json();case 10:n=e.sent,c(n.results),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:i,children:(0,d.jsxs)("form",{onSubmit:q,children:[(0,d.jsx)("input",{type:"text",placeholder:"Search for a movie...",className:f,name:"query"}),(0,d.jsx)("button",{type:"submit",className:l,children:"Search"})]})}),(0,d.jsx)("ul",{className:v,children:t.map((function(e){return(0,d.jsx)("li",{className:p,children:(0,d.jsx)(u.rU,{to:"/movies/".concat(e.id),className:h,children:e.title||e.name})},e.id)}))})]})}},861:function(e,r,t){function n(e,r,t,n,o,c,a){try{var s=e[c](a),u=s.value}catch(i){return void t(i)}s.done?r(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var r=this,t=arguments;return new Promise((function(o,c){var a=e.apply(r,t);function s(e){n(a,o,c,s,u,"next",e)}function u(e){n(a,o,c,s,u,"throw",e)}s(void 0)}))}}t.d(r,{Z:function(){return o}})}}]);
//# sourceMappingURL=653.742c9b67.chunk.js.map